<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ForeCaddie - Know Your Game</title>
	<link href="https://fonts.googleapis.com/css?family=Carter+One" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Bevan" rel="stylesheet">
	<link rel="stylesheet" href="styles.css"/>
	<link rel="stylesheet" href="userloginstyles.css"/>
	<link rel="stylesheet" href="signup.css"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
	<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery.leanmodal/1.1/jquery.leanmodal.min.js"></script>
</head>
<body>
		<header class="header">
			<h2 class="name">ForeCaddie</h2>
		</header>
		<div id="first_container" class="container-fluid">
			<h1 align="center" class="main">Golf, <br> informed.</h1>
		</div>
		<div id ="second_container">
			<button class="front_button" id="login"  href="#modal">Login</button> 
			<button class="front_button" id="register"  href="#modal">Join The Club</button> 
			<button class="front_button" id="scroll" href="#about">Learn More</button>
		</div>
		<!--Begin Modal Popup Box-->
		<div id="modal" class="popupContainer" style="display:none;">
			<header class="popupHeader">
				<span class="header_title">Login</span>
				<span class="modal_close"><i class="fa fa-times"></i></span>
			</header>
 		<section class="popupBody">
 		<!--Login Form-->
 			<div class="user_login">
    		<form>
        			<label>Email / Username</label> <input type="text" id="username"><br>
       				 <label>Password</label> <input type="password" id="password"><br>
      	   		<div class="action_btns">
           			 <div class="one_half">
               		 	<a class="btn register_btn" href="#">Need to sign up?</a>
           		 	 </div> 
            	 	 <div class="one_half last">
                	 <a class="btn btn_green" href="#">Login</a>
            	  	 </div>
       			</div>
   			</form>
			</div>
		<!--Register Form-->
			<div class="user_register">
    			<form>
       				 <label>Full Name</label> <input type="text"><br>
       				 <label>Email Address</label> <input type="email"><br>
        			<label>Password</label> <input type="password"><br>
		       		<div class="action_btns">
		            	<div class="one_half">
		                	<a class="btn login_btn" href="#">Already a member?</a>
		            	</div>
		            	<div class="one_half last">
		               		<a class="btn btn_green" href="#">Register</a>
		            	</div>
		        	</div>
    			</form>
			</div>
    	</section>
		</div>
		<!--End PopUp Box-->
		<div class="third_container">
			<h1 id="about">What is ForeCaddie?</h1>
		</div>
		<footer class="footer">
			<p>ForeRight! Productions</p>
		</footer>	

	<script>

	//PopUp Box Call
	$("#login").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });
	$("#register").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });

	//PopUp Box Functionality
	$("#login", "#register").leanModal({
        top: 100,
        overlay: 0.6,
        closeButton: ".modal_close"
	});

	$(function() {
	        // Calling Login Form
	     $("#login_form").click(function() {
	            $(".user_login").show();
	            return false;
	        });

	        // Calling Register Form
	        $("#register_form").click(function() {
	             $(".user_register").show();
	             $(".header_title").text('Register');
	             return false;
	        });

	         // Going between forms
		    $(".register_btn").click(function () {
		        $(".user_login").hide();
		        $(".user_register").show();
		        $(".header_title").text('Sign up');
		        return false;
		    });

		    $(".login_btn").click(function () {
		    	$(".user_register").hide();
		    	$(".user_login").show();
		    	$(".header_title").text("Login");
		    	return false;
		    });
	});

	//Login and Register Server Connections
	function tryToLogin() {
		console.log('Logging In');
			$.post('/api/login',
			{
				username: $('#username').val(),
				password: $('#password').val()

			}, function(data) {
					if (data === "success"){
						document.location = "./home.html";
					} else {
						$('#error').html("We couldn't find your username or password. Give it another shot.");
					}
				});
	}

	function tryToRegister() {
		console.log('Registering');
			$.post('/api/register',
			{
				username: $('#username').val(),
				password: $('#password').val()

			}, function(data) {
				if (data === "success"){
					document.location = "./home.html";
				} else {
					$('#error').html("Choose a username and a password.");
				}
			});
		}

		$(document).ready(function() {
			$('#Login').click(tryToLogin);
			$('#Register').click(tryToRegister);
		});
	

	</script>
</body>
</html>